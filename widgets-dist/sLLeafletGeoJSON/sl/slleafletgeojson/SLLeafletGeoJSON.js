define(["exports","react"],(function(e,t){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o,a=n(t);!function(e){e[e.SetMapReady=0]="SetMapReady",e[e.SetMapName=1]="SetMapName",e[e.SetMarkers=2]="SetMarkers",e[e.SetGeoJSON=3]="SetGeoJSON",e[e.SetGeoJSONAction=4]="SetGeoJSONAction",e[e.SetGeofence=5]="SetGeofence",e[e.SetGeofenceAction=6]="SetGeofenceAction",e[e.SetGeofenceOutAction=7]="SetGeofenceOutAction",e[e.SetGeofencePositionAction=8]="SetGeofencePositionAction",e[e.SetGeofenceOptions=9]="SetGeofenceOptions",e[e.SetMarkerAction=10]="SetMarkerAction",e[e.SetMarkerDragAction=11]="SetMarkerDragAction"}(o||(o={}));e.SLLeafletGeoJSON=function(e){const{state:n,dispatch:c}=t.useContext(mx.slmap.context),r=t.useRef([]),i=t=>{r.current=[...t];const n=t.map((t=>{const n=e.geoJSON.get(t);return n.value?JSON.parse(n.value):null})).filter((e=>!!e));c(function(e){return{type:o.SetGeoJSON,payload:[...e]}}(n))},S=t=>{e.onFeatureClickAction&&e.onFeatureId&&(e.onFeatureId.setValue(t),e.onFeatureClickAction.execute())};return t.useEffect((()=>{var t,o;n.mapReady&&e.data.items&&(t=r.current,o=e.data.items,JSON.stringify(t)!==JSON.stringify(o))&&i(e.data.items)}),[e.data.items]),t.useEffect((()=>{var t;e.onFeatureClickAction&&e.onFeatureId&&c((t=S,{type:o.SetGeoJSONAction,payload:t}))}),[e.onFeatureClickAction,e.onFeatureId]),t.createElement(a.default.Fragment,null)},Object.defineProperty(e,"__esModule",{value:!0})}));
